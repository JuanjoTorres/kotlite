val bolas: Int  = 5;
val seleccion: Int = 3;

fun factorial(valor : Int): Int {

    val factorial : Int = 1;
    while (valor != 0) {

        factorial = factorial * valor;
        valor = valor - 1;
    }

    return factorial;
}

fun calcularCombinacionesNR(): Int {

    var factorialN : Int;
    var factorialR : Int;
    var factorialNR : Int;
    var denominador : Int = factorialR * factorialNR;
    var bolasMenosSeleccion: Int = bolas - seleccion;

    print("Bolas + seleccion: %d", bolasMenosSeleccion);

    factorialN = factorial(bolas);
    factorialR = factorial(seleccion);
    factorialNR = factorial(bolasMenosSeleccion);

    return (factorialN / denominador);
}

fun calcularCombinacionesR(): Int {

    var factorialNR1 : Int;
    var factorialN1 : Int;
    var factorialR : Int;
    var denominador : Int;

    var bolasMasSeleccion : Int = bolas + seleccion - 1;
    var bolasMenosMenos : Int = bolas - 1;

    print("Bolas + seleccion: %d", bolasMasSeleccion);
    print("Bolas --: %d", bolasMenosMenos);

    factorialNR1 = factorial(bolasMasSeleccion);
    factorialN1 = factorial(bolasMenosMenos);
    factorialR = factorial(seleccion);
    denominador = factorialR * factorialN1;

    return (factorialNR1 / denominador);
}

fun main (): None {

    var conRepeticion : Boolean = True;
    var resultado : Int;
    var mensaje : String;

    print("*** CALCULO DE COMBINATORIA ***");
    print("Numero de bolas totales: %d.", bolas);
    print("Numero de bolas seleccionadas: %d.", seleccion);

    if (conRepeticion) {
        mensaje = "Calculando el número de bolas combinaciones sin repetición...";
    } else {
        mensaje = "Calculando el número de combinaciones con repetición...";
    }

    print(mensaje);

    if (conRepeticion) {
        resultado = calcularCombinacionesR();
    } else {
        resultado = calcularCombinacionesNR();
    }

    print("Numero de posibles combinaciones: %d.", resultado);
    print("Fin del programa.");

}